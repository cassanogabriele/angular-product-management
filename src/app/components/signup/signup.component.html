<div class="container">
    <form #userForm="ngForm" (ngSubmit)="insertUser()">
        <div class="form-group">
          <label for="name">Nom</label>
          <input
            id="name"
            name="name"
            [(ngModel)]="user.name"
            required
            #name="ngModel"
            type="text"
            class="form-control"
          />
          <div *ngIf="name.invalid && name.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">Le nom est obligatoire.</small>
            </div>
          </div>
        </div>
      
        <div class="form-group mt-2">
          <label for="firstname">Prénom</label>
          <input
            id="firstname"
            name="firstname"
            [(ngModel)]="user.firstname"
            required
            #firstname="ngModel"
            type="text"
            class="form-control"
          />
          <div *ngIf="firstname.invalid && firstname.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">Le prénom est obligatoire.</small>
            </div>
          </div>
        </div>
      
        <div class="form-group mt-2">
          <label for="phone">Téléphone</label>
          <input
            id="phone"
            name="phone"
            [(ngModel)]="user.phone"
            required
            #phone="ngModel"
            type="text"
            class="form-control"
          />
          <div *ngIf="phone.invalid && phone.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">Le téléphone est obligatoire.</small>
            </div>
          </div>
        </div>
      
        <div class="form-group mt-2">
          <label for="email">Email</label>
          <input
            id="email"
            name="email"
            [(ngModel)]="user.email"
            required
            #email="ngModel"
            type="email"
            class="form-control"
          />
          <div *ngIf="email.invalid && email.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">L'email est obligatoire.</small>
            </div>
          </div>
        </div>
      
        <div class="form-group mt-2">
          <label for="password">Mot de passe</label>
          <input
            id="password"
            name="password"
            [(ngModel)]="user.password"
            required
            #password="ngModel"
            type="password"
            class="form-control"
          />
          <div *ngIf="password.invalid && password.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">Le mot de passe est obligatoire.</small>
            </div>
          </div>
        </div>

        <div class="form-group">
            <label for="password_confirmation">Confirmer le mot de passe</label>
            <input
                id="password_confirmation"
                name="password_confirmation"
                [(ngModel)]="user.password_confirmation"
                required
                type="password"
                class="text form-control"
            />
        </div>       
      
        <div class="form-group mt-2">
          <label for="sexe">Sexe</label>
          <select
            id="sexe"
            name="sexe"
            [(ngModel)]="user.sexe"
            required
            #sexe="ngModel"
            class="form-control"
          >
            <option value="">Sélectionnez un sexe</option>
            <option value="homme">Homme</option>
            <option value="femme">Femme</option>
            <option value="autre">Autre</option>
          </select>
          <div *ngIf="sexe.invalid && sexe.touched">
            <div class="alert alert-danger alert-dismissible fade show mt-4" role="alert">
              <small class="error">Le sexe est obligatoire.</small>
            </div>
          </div>
        </div>

        <div class="form-group mt-2">
          <label for="photo">Photo</label>
          <input
            id="photo"
            name="photo"
            type="file"
            (change)="onFileChange($event)"
            class="form-control"
          />

          <!-- Aperçu de l'image -->
          <div *ngIf="selectedImageUrl" class="mt-3">
            <img [src]="selectedImageUrl" alt="Aperçu de l'image" class="img-thumbnail" style="max-width: 200px;">
          </div>
        </div>
      
        <button class="btn btn-success btn-sm mt-4"><i class="fa fa-check" aria-hidden="true"></i> S'inscrire</button>
    </form>
</div>
